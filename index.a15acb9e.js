!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequired7c6=o),o.register("hKHmD",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}}));var i=o("bpxeT"),c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a.default(e,t,n[t])}))}return e};var u,a=(u=o("hKHmD"))&&u.__esModule?u:{default:u};var d=o("2TvXO"),s=o("XhTkP"),l=o("5TAx9"),f=document.querySelector("#listProduct"),p=document.querySelector("#listProductBasket"),b=document.querySelector("#totalPrice"),m=document.querySelector("#totalProdacts"),g=document.querySelector('button[data-action="close"]'),v=document.querySelector("#basket"),y=document.querySelector("#basketExit");f.addEventListener("click",(function(e){return w.apply(this,arguments)})),p.addEventListener("click",(function(e){if(!e.target.id.includes("plus"))return;var t=e.target.id.split("-"),n=x.find((function(e){return e.id===Number(t[1])}));n.number=n.number+1})),p.addEventListener("click",(function(e){if(!e.target.id.includes("minus"))return;var t=e.target.id.split("-"),n=x.find((function(e){return e.id===Number(t[1])}));n.number=1===n.number?1:n.number-1})),p.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName&&"svg"!==e.target.nodeName&&"use"!==e.target.nodeName)return;var t=x.filter((function(t){return t.id!==Number(e.target.id)}));x=t,localStorage.setItem("products",JSON.stringify(x)),L(),O(),S()})),g.addEventListener("click",T),y.addEventListener("click",T),document.addEventListener("DOMContentLoaded",(function(){L(),O(),S()}));var x=[],h=JSON.parse(localStorage.getItem("products"));function w(){return(w=e(i)(e(d).mark((function t(n){var r,o,i;return e(d).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("BUTTON"===n.target.nodeName){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,s.products)(l.limit,l.page);case 4:if(r=t.sent,!x.find((function(e){return e.id===Number(n.target.id)}))){t.next=8;break}return t.abrupt("return",alert("Ви вже додавали цей продукт у корзину"));case 8:o=r.products.find((function(e){return e.id===Number(n.target.id)})),i=e(c)({},o,{number:1}),x.push(i),localStorage.setItem("products",JSON.stringify(x)),L(),O(),S();case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(){var e=x.reduce((function(e,t){return e+Number(t.variants[0].price)*t.number}),0);b.innerHTML=" KR.",b.insertAdjacentHTML("afterbegin",e.toLocaleString("en-US"))}Array.isArray(h)&&h.map((function(e){return x.push(e)}));var L=function(){var e=x.map((function(e){var t=e.title,n=e.images,r=e.variants,o=e.id,i=e.number,c=((r[0].price||r[0].compare_at_price)*i).toLocaleString("en-US");return'\n      <li class="flex gap-4 items-start ">\n        <img\n          src="'.concat(n.length>0?n[0].src:"./images/not-images.jpg",'"\n          class="rounded-md border border-white border-opacity-50 w-[74px]"\n        />\n        <div class="flex flex-col  justify-between w-widthInfoProduct h-heightImgBasket grid">\n          <h3 class="text-yellow-50 text-sm font-bold">').concat(t,'</h3>\n          <p class="text-yellow-50 text-sm font-bold"> ').concat(c,' KR.</p>\n          <div class="flex"><button type=\'button\' class="w-5 h-5 text-center text-yellow-50 text-sm font-bold" id="minus-').concat(o,'">-</button><p class="w-5 h-5 text-center text-yellow-50 text-sm font-bold" id="number">').concat(i,'</p><button type=\'button\' class="w-5 h-5 text-center text-yellow-50 text-sm font-bold" id="plus-').concat(o,"\">+</button></div>\n        </div>\n        <button type='button' id=\"").concat(o,'"><svg width="24px" height="24px" id="').concat(o,'">\n          <use href="./images/icons.svg#icon-deleteIcon" id="').concat(o,'"></use>\n        </svg></button>\n      </li>')})).join("");p.innerHTML="",p.insertAdjacentHTML("beforeend",e)};function S(){m.innerHTML="TOTAL: ";var e=x.reduce((function(e,t){return e+t.number}),0);m.insertAdjacentHTML("beforeend",e)}function T(){v.classList.toggle("hidden")}}();
//# sourceMappingURL=index.a15acb9e.js.map
