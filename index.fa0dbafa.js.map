{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_define_property.js","node_modules/@parcel/runtime-js/lib/runtime-aa99dd26502392db.js","src/js/basketProducts.js","node_modules/@swc/helpers/lib/_object_spread.js","node_modules/@parcel/runtime-js/lib/runtime-3dc2ea19c657b70c.js","node_modules/@parcel/runtime-js/lib/runtime-12c4f44414070aaf.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"em0yr\\\":\\\"index.fa0dbafa.js\\\",\\\"lyuoq\\\":\\\"not-images.b1286e6f.jpg\\\",\\\"410VS\\\":\\\"icons.7d46eb79.svg\\\"}\"));","import { products } from './fetchProducts.js';\nimport { limit, page } from './index.js';\nimport imagesNot from '../images/not-images.jpg';\nimport exitSvg from '../images/icons.svg';\nconst listProduct = document.querySelector('#listProduct');\nconst listProductBasket = document.querySelector('#listProductBasket');\nconst totalPrice = document.querySelector('#totalPrice');\nconst totalProducts = document.querySelector('#totalProdacts');\nconst basketBtn = document.querySelector('button[data-action=\"close\"]');\nconst basketContainer = document.querySelector('#basket');\nconst basketExit = document.querySelector('#basketExit');\n\nlistProduct.addEventListener('click', handleAddCard);\nlistProductBasket.addEventListener('click', handleMinusAndPlus);\nlistProductBasket.addEventListener('click', handleRemoveCard);\nbasketBtn.addEventListener('click', handelToggleBasket);\nbasketExit.addEventListener('click', handelToggleBasket);\ndocument.addEventListener('DOMContentLoaded', () => {\n  renderProductsBaket();\n  totalPriceProducts();\n  totalProductsNumber();\n});\n\nlet productItem = [];\nconst localProducts = JSON.parse(localStorage.getItem('products'));\nif (Array.isArray(localProducts)) {\n  localProducts.map(item => productItem.push(item));\n}\n\nasync function handleAddCard(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  const res = await products(limit, page);\n  const findProductBasket = productItem.find(\n    ({ id }) => id === Number(e.target.id)\n  );\n  if (findProductBasket) {\n    return alert('Ви вже додавали цей продукт у корзину');\n  }\n  const findProduct = res.products.find(({ id }) => id === Number(e.target.id));\n  const newProduct = { ...findProduct, number: 1 };\n  productItem.push(newProduct);\n  localStorage.setItem('products', JSON.stringify(productItem));\n  renderProductsBaket();\n  totalPriceProducts();\n  totalProductsNumber();\n}\n\nfunction handleRemoveCard(e) {\n  if (\n    e.target.nodeName !== 'BUTTON' &&\n    e.target.nodeName !== 'svg' &&\n    e.target.nodeName !== 'use'\n  ) {\n    return;\n  }\n  const removeItem = productItem.filter(({ id }) => id !== Number(e.target.id));\n  productItem = removeItem;\n  localStorage.setItem('products', JSON.stringify(productItem));\n  renderProductsBaket();\n  totalPriceProducts();\n  totalProductsNumber();\n}\n\nconst renderProductsBaket = () => {\n  const productItemBasket = productItem\n    .map(({ title, images, variants, id, number }) => {\n      const price = (\n        (variants[0].price || variants[0].compare_at_price) * number\n      ).toLocaleString('en-US');\n      const deleteIconHtml = `<svg width=\"24px\" height=\"24px\" id=\"${id}\">\n      <use href=${exitSvg}#deleteIcon id=\"${id}\"></use>\n      </svg>`;\n      return `\n      <li class=\"flex gap-4 items-start \">\n        <img\n        src=\"${images.length > 0 ? images[0].src : imagesNot}\"\n          class=\"rounded-md border border-white border-opacity-50 w-[74px]\"\n          />\n        <div class=\"flex flex-col  justify-between w-[231px] h-heightImgBasket grid\">\n          <h3 class=\"text-yellow-50 text-sm font-bold\">${title}</h3>\n          <p class=\"text-yellow-50 text-sm font-bold\"> ${price} KR.</p>\n          <div class=\"flex\"><button type='button' class=\"w-5 h-5 text-center text-yellow-50 text-sm font-bold\" id=\"minus-${id}\">-</button><p class=\"w-5 h-5 text-center text-yellow-50 text-sm font-bold\" id=\"number\">${number}</p><button type='button' class=\"w-5 h-5 text-center text-yellow-50 text-sm font-bold\" id=\"plus-${id}\">+</button></div>\n          </div>\n        <button type='button' id=\"${id}\">${deleteIconHtml}</button>\n      </li>`;\n    })\n    .join('');\n  listProductBasket.innerHTML = '';\n  listProductBasket.insertAdjacentHTML('beforeend', productItemBasket);\n};\nfunction totalProductsNumber() {\n  totalProducts.innerHTML = 'TOTAL: ';\n  const total = productItem.reduce((cal, item) => {\n    return cal + item.number;\n  }, 0);\n  totalProducts.insertAdjacentHTML('beforeend', total);\n}\n\nfunction handleMinusAndPlus(e) {\n  if (e.target.id.includes('plus')) {\n    const splices = e.target.id.split('-');\n    const product = productItem.find(({ id }) => id === Number(splices[1]));\n    product.number = product.number + 1;\n  } else {\n    const splices = e.target.id.split('-');\n    const product = productItem.find(({ id }) => id === Number(splices[1]));\n    product.number = product.number === 1 ? 1 : product.number - 1;\n  }\n}\nfunction handelToggleBasket() {\n  basketContainer.classList.toggle('hidden');\n}\n\nfunction totalPriceProducts() {\n  const total = productItem.reduce((cal, item) => {\n    return cal + Number(item.variants[0].price) * item.number;\n  }, 0);\n  totalPrice.innerHTML = ' KR.';\n  totalPrice.insertAdjacentHTML('afterbegin', total.toLocaleString('en-US'));\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _objectSpread;\nvar _defineProperty = _interopRequireDefault(require(\"./_define_property\"));\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            (0, _defineProperty).default(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('em0yr') + require('./helpers/bundle-manifest').resolve(\"lyuoq\");","module.exports = require('./helpers/bundle-url').getBundleURL('em0yr') + require('./helpers/bundle-manifest').resolve(\"410VS\");"],"names":["Object","defineProperty","module","exports","value","default","obj","key","enumerable","configurable","writable","parcelRequire","register","JSON","parse","$bpxeT","$9eddae5a012cde57$exports","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","$9eddae5a012cde57$var$_defineProperty","__esModule","$88cdcb587f11af21$exports","getBundleURL","resolve","$cfb429fbc55473d3$exports","$3703ed3a3a9f8e92$var$listProduct","document","querySelector","$3703ed3a3a9f8e92$var$listProductBasket","$3703ed3a3a9f8e92$var$totalPrice","$3703ed3a3a9f8e92$var$totalProducts","$3703ed3a3a9f8e92$var$basketBtn","$3703ed3a3a9f8e92$var$basketContainer","$3703ed3a3a9f8e92$var$basketExit","addEventListener","e","$3703ed3a3a9f8e92$var$_handleAddCard","apply","this","id","includes","splices","split","product","$3703ed3a3a9f8e92$var$productItem","find","param","Number","number","splices1","product1","nodeName","removeItem","localStorage","setItem","stringify","$3703ed3a3a9f8e92$var$renderProductsBaket","$3703ed3a3a9f8e92$var$totalPriceProducts","$3703ed3a3a9f8e92$var$totalProductsNumber","$3703ed3a3a9f8e92$var$handelToggleBasket","$3703ed3a3a9f8e92$var$localProducts","getItem","$parcel$interopDefault","$2TvXO","mark","_callee","res","findProduct","newProduct","$XhTkP","products","$5TAx9","limit","page","_ctx","sent","alert","push","Array","isArray","map","item","productItemBasket","title","images","variants","price","compare_at_price","toLocaleString","deleteIconHtml","src","join","innerHTML","insertAdjacentHTML","total","reduce","cal","classList","toggle"],"version":3,"file":"index.fa0dbafa.js.map"}