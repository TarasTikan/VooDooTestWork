{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-b6c2fa8839d9973c.js","src/js/basketProducts.js","node_modules/@parcel/runtime-js/lib/runtime-d12630d519787b61.js","node_modules/@parcel/runtime-js/lib/runtime-44e7bd74d9a8b620.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"d5lhQ\\\":\\\"index.ed1cedfc.js\\\",\\\"gv9sM\\\":\\\"not-images.b1286e6f.jpg\\\",\\\"8OQ7p\\\":\\\"icons.7d46eb79.svg\\\"}\"));","import { products } from './fetchProducts.js';\nimport { limit, page } from './index.js';\nimport imagesNot from '../images/not-images.jpg';\nimport exitSvg from '../images/icons.svg';\nconst listProduct = document.querySelector('#listProduct');\nconst listProductBasket = document.querySelector('#listProductBasket');\nconst totalPrice = document.querySelector('#totalPrice');\nconst totalProducts = document.querySelector('#totalProdacts');\nconst basketBtn = document.querySelector('button[data-action=\"close\"]');\nconst basketContainer = document.querySelector('#basket');\nconst basketExit = document.querySelector('#basketExit');\n\nlistProduct.addEventListener('click', handleAddCard);\nlistProductBasket.addEventListener('click', handlePlusBtn);\nlistProductBasket.addEventListener('click', handleMinusBtn);\nlistProductBasket.addEventListener('click', handleRemoveCard);\nbasketBtn.addEventListener('click', handelToggleBasket);\nbasketExit.addEventListener('click', handelToggleBasket);\ndocument.addEventListener('DOMContentLoaded', () => {\n  renderProductsBaket();\n  totalPriceProducts();\n  totalProductsNumber();\n});\n\nlet productItem = [];\nconst localProducts = JSON.parse(localStorage.getItem('products'));\nif (Array.isArray(localProducts)) {\n  localProducts.map(item => productItem.push(item));\n}\n\nasync function handleAddCard(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  const res = await products(limit, page);\n  const findProductBasket = productItem.find(\n    ({ id }) => id === Number(e.target.id)\n  );\n  if (findProductBasket) {\n    return alert('Ви вже додавали цей продукт у корзину');\n  }\n  const findProduct = res.products.find(({ id }) => id === Number(e.target.id));\n  const newProduct = { ...findProduct, number: 1 };\n  productItem.push(newProduct);\n  localStorage.setItem('products', JSON.stringify(productItem));\n  renderProductsBaket();\n  totalPriceProducts();\n  totalProductsNumber();\n}\n\nfunction handleRemoveCard(e) {\n  if (\n    e.target.nodeName !== 'BUTTON' &&\n    e.target.nodeName !== 'svg' &&\n    e.target.nodeName !== 'use'\n  ) {\n    return;\n  }\n  const removeItem = productItem.filter(({ id }) => id !== Number(e.target.id));\n  productItem = removeItem;\n  localStorage.setItem('products', JSON.stringify(productItem));\n  renderProductsBaket();\n  totalPriceProducts();\n  totalProductsNumber();\n}\n\nfunction totalPriceProducts() {\n  const total = productItem.reduce((cal, item) => {\n    return cal + Number(item.variants[0].price) * item.number;\n  }, 0);\n  totalPrice.innerHTML = ' KR.';\n  totalPrice.insertAdjacentHTML('afterbegin', total.toLocaleString('en-US'));\n}\n\nconst renderProductsBaket = () => {\n  const productItemBasket = productItem\n    .map(({ title, images, variants, id, number }) => {\n      const price = (\n        (variants[0].price || variants[0].compare_at_price) * number\n      ).toLocaleString('en-US');\n      const deleteIconHtml = `<svg width=\"24px\" height=\"24px\" id=\"${id}\">\n        <use href=${exitSvg}#deleteIcon id=\"${id}\"></use>\n      </svg>`;\n      return `\n      <li class=\"flex gap-4 items-start \">\n        <img\n          src=\"${images.length > 0 ? images[0].src : imagesNot}\"\n          class=\"rounded-md border border-white border-opacity-50 w-[74px]\"\n        />\n        <div class=\"flex flex-col  justify-between w-widthInfoProduct h-heightImgBasket grid\">\n          <h3 class=\"text-yellow-50 text-sm font-bold\">${title}</h3>\n          <p class=\"text-yellow-50 text-sm font-bold\"> ${price} KR.</p>\n          <div class=\"flex\"><button type='button' class=\"w-5 h-5 text-center text-yellow-50 text-sm font-bold\" id=\"minus-${id}\">-</button><p class=\"w-5 h-5 text-center text-yellow-50 text-sm font-bold\" id=\"number\">${number}</p><button type='button' class=\"w-5 h-5 text-center text-yellow-50 text-sm font-bold\" id=\"plus-${id}\">+</button></div>\n        </div>\n        <button type='button' id=\"${id}\">${deleteIconHtml}</button>\n      </li>`;\n    })\n    .join('');\n  listProductBasket.innerHTML = '';\n  listProductBasket.insertAdjacentHTML('beforeend', productItemBasket);\n};\nfunction totalProductsNumber() {\n  totalProducts.innerHTML = 'TOTAL: ';\n  const total = productItem.reduce((cal, item) => {\n    return cal + item.number;\n  }, 0);\n  totalProducts.insertAdjacentHTML('beforeend', total);\n}\n\nfunction handlePlusBtn(e) {\n  if (!e.target.id.includes('plus')) return;\n  const splices = e.target.id.split('-');\n  const product = productItem.find(({ id }) => id === Number(splices[1]));\n  product.number = product.number + 1;\n}\nfunction handleMinusBtn(e) {\n  if (!e.target.id.includes('minus')) return;\n  const splices = e.target.id.split('-');\n  const product = productItem.find(({ id }) => id === Number(splices[1]));\n  product.number = product.number === 1 ? 1 : product.number - 1;\n}\n\nfunction handelToggleBasket() {\n  basketContainer.classList.toggle('hidden');\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gv9sM\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8OQ7p\")).toString();"],"names":["parcelRequire","register","JSON","parse","$khrDK","$3ca45e8200d1c3ea$exports","URL","resolve","import","meta","url","toString","$e27edc6dc33d0133$exports","$8e27b601e058ba95$var$listProduct","document","querySelector","$8e27b601e058ba95$var$listProductBasket","$8e27b601e058ba95$var$totalPrice","$8e27b601e058ba95$var$totalProducts","$8e27b601e058ba95$var$basketBtn","$8e27b601e058ba95$var$basketContainer","$8e27b601e058ba95$var$basketExit","addEventListener","async","e","target","nodeName","res","products","$btpe3","limit","page","$8e27b601e058ba95$var$productItem","find","id","Number","alert","newProduct","number","push","localStorage","setItem","stringify","$8e27b601e058ba95$var$renderProductsBaket","$8e27b601e058ba95$var$totalPriceProducts","$8e27b601e058ba95$var$totalProductsNumber","includes","splices","split","product","removeItem","filter","$8e27b601e058ba95$var$handelToggleBasket","$8e27b601e058ba95$var$localProducts","getItem","total","reduce","cal","item","variants","price","innerHTML","insertAdjacentHTML","toLocaleString","Array","isArray","map","productItemBasket","title","images","compare_at_price","deleteIconHtml","$parcel$interopDefault","length","src","join","classList","toggle"],"version":3,"file":"index.ed1cedfc.js.map"}