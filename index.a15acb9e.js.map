{"mappings":"mkBAAA,aACAA,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QACR,SAAyBC,EAAKC,EAAKH,GAC3BG,KAAOD,EACPN,OAAOC,eAAeK,EAAKC,EAAK,CAC5BH,MAAOA,EACPI,YAAY,EACZC,cAAc,EACdC,UAAU,IAGdJ,EAAIC,GAAOH,EAEf,OAAOE,C,KChBX,IAAAK,EAAAC,EAAA,S,KCCAZ,OAAOC,eAAeY,EAAS,aAAc,CACzCT,OAAO,IAEXS,EAAQR,QAER,SAAuBS,GACnB,IAAI,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAI,CACrC,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAC/CI,EAAUnB,OAAOoB,KAAKF,GACkB,mBAAjClB,OAAOqB,wBACdF,EAAUA,EAAQG,OAAOtB,OAAOqB,sBAAsBH,GAAQK,QAAO,SAASC,GAC1E,OAAOxB,OAAOyB,yBAAyBP,EAAQM,GAAKhB,U,MAG5DW,EAAQO,SAAQ,SAASnB,GACrBoB,EAAqBtB,QAAQS,EAAQP,EAAKW,EAAOX,G,IAGzD,OAAOO,C,EAdX,IAgBgCR,EAhB5BqB,GAgB4BrB,EAhBaM,EAAA,WAiB3BN,EAAIsB,WAAatB,EAAM,CACjCD,QAASC,G,2CDpBXuB,EAAcC,SAASC,cAAc,gBACrCC,EAAoBF,SAASC,cAAc,sBAC3CE,EAAaH,SAASC,cAAc,eACpCG,EAAgBJ,SAASC,cAAc,kBACvCI,EAAYL,SAASC,cAAc,+BACnCK,EAAkBN,SAASC,cAAc,WACzCM,EAAaP,SAASC,cAAc,eAE1CF,EAAYS,iBAAiB,S,SAkBAC,G,OAAdC,EAAaC,MAAAC,KAAA1B,U,IAjB5BgB,EAAkBM,iBAAiB,SA+FnC,SAAuBC,GACrB,IAAKA,EAAEzB,OAAO6B,GAAGC,SAAS,QAAS,OACnC,IAAMC,EAAUN,EAAEzB,OAAO6B,GAAGG,MAAM,KAC5BC,EAAUC,EAAYC,MAAK,SAAAC,G,OAAKA,EAAFP,KAAgBQ,OAAON,EAAQ,G,IACnEE,EAAQK,OAASL,EAAQK,OAAS,C,IAlGpCpB,EAAkBM,iBAAiB,SAoGnC,SAAwBC,GACtB,IAAKA,EAAEzB,OAAO6B,GAAGC,SAAS,SAAU,OACpC,IAAMC,EAAUN,EAAEzB,OAAO6B,GAAGG,MAAM,KAC5BC,EAAUC,EAAYC,MAAK,SAAAC,G,OAAKA,EAAFP,KAAgBQ,OAAON,EAAQ,G,IACnEE,EAAQK,OAA4B,IAAnBL,EAAQK,OAAe,EAAIL,EAAQK,OAAS,C,IAvG/DpB,EAAkBM,iBAAiB,SAmCnC,SAA0BC,GACxB,GACwB,WAAtBA,EAAEzB,OAAOuC,UACa,QAAtBd,EAAEzB,OAAOuC,UACa,QAAtBd,EAAEzB,OAAOuC,SAET,OAEF,IAAMC,EAAaN,EAAYzB,QAAO,SAAA2B,G,OAAKA,EAAFP,KAAgBQ,OAAOZ,EAAEzB,OAAO6B,G,IACzEK,EAAcM,EACdC,aAAaC,QAAQ,WAAYC,KAAKC,UAAUV,IAChDW,IACAC,IACAC,G,IA/CF1B,EAAUG,iBAAiB,QAASwB,GACpCzB,EAAWC,iBAAiB,QAASwB,GACrChC,SAASQ,iBAAiB,oBAAoB,WAC5CqB,IACAC,IACAC,G,IAGF,IAAIb,EAAc,GACZe,EAAgBN,KAAKO,MAAMT,aAAaU,QAAQ,a,SAKvCzB,I,OAAAA,EAAf0B,EAAAvD,EAAA,CAAAuD,EAAAC,GAAAC,MAAA,SAAAC,EAA6B9B,G,IAIrB+B,EAOAC,EACAC,E,qEAXoB,WAAtBjC,EAAEzB,OAAOuC,SAAqB,C,iEAGhB,EAAAoB,EAAAC,UAASC,EAAAC,MAAOD,EAAAE,M,UAA5BP,EAAGQ,EAAAC,MACiB/B,EAAYC,MACpC,SAAAC,G,OAAKA,EAAFP,KAAgBQ,OAAOZ,EAAEzB,OAAO6B,G,IAEhB,C,wCACZqC,MAAM,0C,OAETT,EAAcD,EAAII,SAASzB,MAAK,SAAAC,G,OAAKA,EAAFP,KAAgBQ,OAAOZ,EAAEzB,OAAO6B,G,IACnE6B,EAAaN,EAAArD,EAAA,IAAK0D,EAAW,CAAEnB,OAAQ,IAC7CJ,EAAYiC,KAAKT,GACjBjB,aAAaC,QAAQ,WAAYC,KAAKC,UAAUV,IAChDW,IACAC,IACAC,I,6CAjB0BpB,MAAAC,KAAA1B,U,CAoC5B,SAAS4C,IACP,IAAMsB,EAAQlC,EAAYmC,QAAO,SAACC,EAAKC,GACrC,OAAOD,EAAMjC,OAAOkC,EAAKC,SAAS,GAAGC,OAASF,EAAKjC,M,GAClD,GACHnB,EAAWuD,UAAY,OACvBvD,EAAWwD,mBAAmB,aAAcP,EAAMQ,eAAe,S,CA7C/DC,MAAMC,QAAQ7B,IAChBA,EAAc8B,KAAI,SAACR,G,OAASrC,EAAYiC,KAAKI,E,IA+C/C,IAAM1B,EAAsB,WAC1B,IAAMmC,EAAoB9C,EACvB6C,KAAI,SAAA3C,G,IAAG6C,EAAK7C,EAAL6C,MAAOC,EAAM9C,EAAN8C,OAAQV,EAAQpC,EAARoC,SAAU3C,EAAEO,EAAFP,GAAIS,EAAMF,EAANE,OAC7BmC,IACHD,EAAS,GAAGC,OAASD,EAAS,GAAGW,kBAAoB7C,GACtDsC,eAAe,SACjB,MAAO,8EAO4CpE,OAJxC0E,EAAO/E,OAAS,EAAI+E,EAAO,GAAGE,IAAM,0BAA0B,uPAKtB5E,OADAyE,EAAM,kEAE4DzE,OADlEiE,EAAM,yIACyJjE,OAA7FqB,EAAG,4FAAmMrB,OAAzG8B,EAAO,sGAE3L9B,OAF6RqB,EAAG,4EAErPrB,OAA3CqB,EAAG,0CACwBrB,OADgBqB,EAAG,qEAChBrB,OAAHqB,EAAG,iD,IAI7DwD,KAAK,IACRnE,EAAkBwD,UAAY,GAC9BxD,EAAkByD,mBAAmB,YAAaK,E,EAEpD,SAASjC,IACP3B,EAAcsD,UAAY,UAC1B,IAAMN,EAAQlC,EAAYmC,QAAO,SAACC,EAAKC,GACrC,OAAOD,EAAMC,EAAKjC,M,GACjB,GACHlB,EAAcuD,mBAAmB,YAAaP,E,CAgBhD,SAASpB,IACP1B,EAAgBgE,UAAUC,OAAO,S","sources":["node_modules/@swc/helpers/lib/_define_property.js","src/js/basketProducts.js","node_modules/@swc/helpers/lib/_object_spread.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","import { products } from \"./fetchProducts.js\";\nimport { limit, page } from \"./index.js\";\n\nconst listProduct = document.querySelector(\"#listProduct\");\nconst listProductBasket = document.querySelector(\"#listProductBasket\");\nconst totalPrice = document.querySelector(\"#totalPrice\");\nconst totalProducts = document.querySelector(\"#totalProdacts\");\nconst basketBtn = document.querySelector('button[data-action=\"close\"]');\nconst basketContainer = document.querySelector(\"#basket\");\nconst basketExit = document.querySelector(\"#basketExit\");\n\nlistProduct.addEventListener(\"click\", handleAddCard);\nlistProductBasket.addEventListener(\"click\", handlePlusBtn);\nlistProductBasket.addEventListener(\"click\", handleMinusBtn);\nlistProductBasket.addEventListener(\"click\", handleRemoveCard);\nbasketBtn.addEventListener(\"click\", handelToggleBasket);\nbasketExit.addEventListener(\"click\", handelToggleBasket);\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  renderProductsBaket();\n  totalPriceProducts();\n  totalProductsNumber();\n});\n\nlet productItem = [];\nconst localProducts = JSON.parse(localStorage.getItem(\"products\"));\nif (Array.isArray(localProducts)) {\n  localProducts.map((item) => productItem.push(item));\n}\n\nasync function handleAddCard(e) {\n  if (e.target.nodeName !== \"BUTTON\") {\n    return;\n  }\n  const res = await products(limit, page);\n  const findProductBasket = productItem.find(\n    ({ id }) => id === Number(e.target.id)\n  );\n  if (findProductBasket) {\n    return alert(\"Ви вже додавали цей продукт у корзину\");\n  }\n  const findProduct = res.products.find(({ id }) => id === Number(e.target.id));\n  const newProduct = { ...findProduct, number: 1 };\n  productItem.push(newProduct);\n  localStorage.setItem(\"products\", JSON.stringify(productItem));\n  renderProductsBaket();\n  totalPriceProducts();\n  totalProductsNumber();\n}\n\nfunction handleRemoveCard(e) {\n  if (\n    e.target.nodeName !== \"BUTTON\" &&\n    e.target.nodeName !== \"svg\" &&\n    e.target.nodeName !== \"use\"\n  ) {\n    return;\n  }\n  const removeItem = productItem.filter(({ id }) => id !== Number(e.target.id));\n  productItem = removeItem;\n  localStorage.setItem(\"products\", JSON.stringify(productItem));\n  renderProductsBaket();\n  totalPriceProducts();\n  totalProductsNumber();\n}\n\nfunction totalPriceProducts() {\n  const total = productItem.reduce((cal, item) => {\n    return cal + Number(item.variants[0].price) * item.number;\n  }, 0);\n  totalPrice.innerHTML = \" KR.\";\n  totalPrice.insertAdjacentHTML(\"afterbegin\", total.toLocaleString(\"en-US\"));\n}\n\nconst renderProductsBaket = () => {\n  const productItemBasket = productItem\n    .map(({ title, images, variants, id, number }) => {\n      const price = (\n        (variants[0].price || variants[0].compare_at_price) * number\n      ).toLocaleString(\"en-US\");\n      return `\n      <li class=\"flex gap-4 items-start \">\n        <img\n          src=\"${images.length > 0 ? images[0].src : './images/not-images.jpg'}\"\n          class=\"rounded-md border border-white border-opacity-50 w-[74px]\"\n        />\n        <div class=\"flex flex-col  justify-between w-widthInfoProduct h-heightImgBasket grid\">\n          <h3 class=\"text-yellow-50 text-sm font-bold\">${title}</h3>\n          <p class=\"text-yellow-50 text-sm font-bold\"> ${price} KR.</p>\n          <div class=\"flex\"><button type='button' class=\"w-5 h-5 text-center text-yellow-50 text-sm font-bold\" id=\"minus-${id}\">-</button><p class=\"w-5 h-5 text-center text-yellow-50 text-sm font-bold\" id=\"number\">${number}</p><button type='button' class=\"w-5 h-5 text-center text-yellow-50 text-sm font-bold\" id=\"plus-${id}\">+</button></div>\n        </div>\n        <button type='button' id=\"${id}\"><svg width=\"24px\" height=\"24px\" id=\"${id}\">\n          <use href=\"./images/icons.svg#icon-deleteIcon\" id=\"${id}\"></use>\n        </svg></button>\n      </li>`;\n    })\n    .join(\"\");\n  listProductBasket.innerHTML = \"\";\n  listProductBasket.insertAdjacentHTML(\"beforeend\", productItemBasket);\n};\nfunction totalProductsNumber() {\n  totalProducts.innerHTML = \"TOTAL: \";\n  const total = productItem.reduce((cal, item) => {\n    return cal + item.number;\n  }, 0);\n  totalProducts.insertAdjacentHTML(\"beforeend\", total);\n}\n\nfunction handlePlusBtn(e) {\n  if (!e.target.id.includes(\"plus\")) return;\n  const splices = e.target.id.split(\"-\");\n  const product = productItem.find(({ id }) => id === Number(splices[1]));\n  product.number = product.number + 1;\n}\nfunction handleMinusBtn(e) {\n  if (!e.target.id.includes(\"minus\")) return;\n  const splices = e.target.id.split(\"-\");\n  const product = productItem.find(({ id }) => id === Number(splices[1]));\n  product.number = product.number === 1 ? 1 : product.number - 1;\n}\n\nfunction handelToggleBasket() {\n  basketContainer.classList.toggle(\"hidden\");\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _objectSpread;\nvar _defineProperty = _interopRequireDefault(require(\"./_define_property\"));\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            (0, _defineProperty).default(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n"],"names":["Object","defineProperty","module","exports","value","default","obj","key","enumerable","configurable","writable","$bpxeT","parcelRequire","$9eddae5a012cde57$exports","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","$9eddae5a012cde57$var$_defineProperty","__esModule","$3703ed3a3a9f8e92$var$listProduct","document","querySelector","$3703ed3a3a9f8e92$var$listProductBasket","$3703ed3a3a9f8e92$var$totalPrice","$3703ed3a3a9f8e92$var$totalProducts","$3703ed3a3a9f8e92$var$basketBtn","$3703ed3a3a9f8e92$var$basketContainer","$3703ed3a3a9f8e92$var$basketExit","addEventListener","e","$3703ed3a3a9f8e92$var$_handleAddCard","apply","this","id","includes","splices","split","product","$3703ed3a3a9f8e92$var$productItem","find","param","Number","number","nodeName","removeItem","localStorage","setItem","JSON","stringify","$3703ed3a3a9f8e92$var$renderProductsBaket","$3703ed3a3a9f8e92$var$totalPriceProducts","$3703ed3a3a9f8e92$var$totalProductsNumber","$3703ed3a3a9f8e92$var$handelToggleBasket","$3703ed3a3a9f8e92$var$localProducts","parse","getItem","$parcel$interopDefault","$2TvXO","mark","_callee","res","findProduct","newProduct","$XhTkP","products","$5TAx9","limit","page","_ctx","sent","alert","push","total","reduce","cal","item","variants","price","innerHTML","insertAdjacentHTML","toLocaleString","Array","isArray","map","productItemBasket","title","images","compare_at_price","src","join","classList","toggle"],"version":3,"file":"index.a15acb9e.js.map"}