{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_define_property.js","node_modules/@parcel/runtime-js/lib/runtime-aa99dd26502392db.js","src/js/basketProducts.js","node_modules/@swc/helpers/lib/_object_spread.js","node_modules/@parcel/runtime-js/lib/runtime-3dc2ea19c657b70c.js","node_modules/@parcel/runtime-js/lib/runtime-12c4f44414070aaf.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _defineProperty;\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\n","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"em0yr\\\":\\\"index.5207dc3f.js\\\",\\\"lyuoq\\\":\\\"not-images.b1286e6f.jpg\\\",\\\"410VS\\\":\\\"icons.7d46eb79.svg\\\"}\"));","import { products } from './fetchProducts.js';\nimport { limit, page } from './index.js';\nimport imagesNot from '../images/not-images.jpg';\nimport exitSvg from '../images/icons.svg';\nconst listProduct = document.querySelector('#listProduct');\nconst listProductBasket = document.querySelector('#listProductBasket');\nconst totalPrice = document.querySelector('#totalPrice');\nconst totalProducts = document.querySelector('#totalProdacts');\nconst basketBtn = document.querySelector('button[data-action=\"close\"]');\nconst basketContainer = document.querySelector('#basket');\nconst basketExit = document.querySelector('#basketExit');\n\nlistProduct.addEventListener('click', handleAddCard);\nlistProductBasket.addEventListener('click', handlePlusBtn);\nlistProductBasket.addEventListener('click', handleMinusBtn);\nlistProductBasket.addEventListener('click', handleRemoveCard);\nbasketBtn.addEventListener('click', handelToggleBasket);\nbasketExit.addEventListener('click', handelToggleBasket);\ndocument.addEventListener('DOMContentLoaded', () => {\n  renderProductsBaket();\n  totalPriceProducts();\n  totalProductsNumber();\n});\n\nlet productItem = [];\nconst localProducts = JSON.parse(localStorage.getItem('products'));\nif (Array.isArray(localProducts)) {\n  localProducts.map(item => productItem.push(item));\n}\n\nasync function handleAddCard(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  const res = await products(limit, page);\n  const findProductBasket = productItem.find(\n    ({ id }) => id === Number(e.target.id)\n  );\n  if (findProductBasket) {\n    return alert('Ви вже додавали цей продукт у корзину');\n  }\n  const findProduct = res.products.find(({ id }) => id === Number(e.target.id));\n  const newProduct = { ...findProduct, number: 1 };\n  productItem.push(newProduct);\n  localStorage.setItem('products', JSON.stringify(productItem));\n  renderProductsBaket();\n  totalPriceProducts();\n  totalProductsNumber();\n}\n\nfunction handleRemoveCard(e) {\n  if (\n    e.target.nodeName !== 'BUTTON' &&\n    e.target.nodeName !== 'svg' &&\n    e.target.nodeName !== 'use'\n  ) {\n    return;\n  }\n  const removeItem = productItem.filter(({ id }) => id !== Number(e.target.id));\n  productItem = removeItem;\n  localStorage.setItem('products', JSON.stringify(productItem));\n  renderProductsBaket();\n  totalPriceProducts();\n  totalProductsNumber();\n}\n\nfunction totalPriceProducts() {\n  const total = productItem.reduce((cal, item) => {\n    return cal + Number(item.variants[0].price) * item.number;\n  }, 0);\n  totalPrice.innerHTML = ' KR.';\n  totalPrice.insertAdjacentHTML('afterbegin', total.toLocaleString('en-US'));\n}\n\nconst renderProductsBaket = () => {\n  console.log(productItem);\n  const productItemBasket = productItem\n    .map(({ title, images, variants, id, number }) => {\n      const price = (\n        (variants[0].price || variants[0].compare_at_price) * number\n      ).toLocaleString('en-US');\n      const deleteIconHtml = `<svg width=\"24px\" height=\"24px\" id=\"${id}\">\n        <use href=${exitSvg}#deleteIcon id=\"${id}\"></use>\n      </svg>`;\n      return `\n      <li class=\"flex gap-4 items-start \">\n        <img\n          src=\"${images.length > 0 ? images[0].src : imagesNot}\"\n          class=\"rounded-md border border-white border-opacity-50 w-[74px]\"\n        />\n        <div class=\"flex flex-col  justify-between w-widthInfoProduct h-heightImgBasket grid\">\n          <h3 class=\"text-yellow-50 text-sm font-bold\">${title}</h3>\n          <p class=\"text-yellow-50 text-sm font-bold\"> ${price} KR.</p>\n          <div class=\"flex\"><button type='button' class=\"w-5 h-5 text-center text-yellow-50 text-sm font-bold\" id=\"minus-${id}\">-</button><p class=\"w-5 h-5 text-center text-yellow-50 text-sm font-bold\" id=\"number\">${number}</p><button type='button' class=\"w-5 h-5 text-center text-yellow-50 text-sm font-bold\" id=\"plus-${id}\">+</button></div>\n        </div>\n        <button type='button' id=\"${id}\">${deleteIconHtml}</button>\n      </li>`;\n    })\n    .join('');\n  listProductBasket.innerHTML = '';\n  listProductBasket.insertAdjacentHTML('beforeend', productItemBasket);\n};\nfunction totalProductsNumber() {\n  totalProducts.innerHTML = 'TOTAL: ';\n  const total = productItem.reduce((cal, item) => {\n    return cal + item.number;\n  }, 0);\n  totalProducts.insertAdjacentHTML('beforeend', total);\n}\n\nfunction handlePlusBtn(e) {\n  if (!e.target.id.includes('plus')) return;\n  const splices = e.target.id.split('-');\n  const product = productItem.find(({ id }) => id === Number(splices[1]));\n  product.number = product.number + 1;\n}\nfunction handleMinusBtn(e) {\n  if (!e.target.id.includes('minus')) return;\n  const splices = e.target.id.split('-');\n  const product = productItem.find(({ id }) => id === Number(splices[1]));\n  product.number = product.number === 1 ? 1 : product.number - 1;\n}\n\nfunction handelToggleBasket() {\n  basketContainer.classList.toggle('hidden');\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _objectSpread;\nvar _defineProperty = _interopRequireDefault(require(\"./_define_property\"));\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            (0, _defineProperty).default(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('em0yr') + require('./helpers/bundle-manifest').resolve(\"lyuoq\");","module.exports = require('./helpers/bundle-url').getBundleURL('em0yr') + require('./helpers/bundle-manifest').resolve(\"410VS\");"],"names":["Object","defineProperty","module","exports","value","default","obj","key","enumerable","configurable","writable","parcelRequire","register","JSON","parse","$bpxeT","$9eddae5a012cde57$exports","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","$9eddae5a012cde57$var$_defineProperty","__esModule","$88cdcb587f11af21$exports","getBundleURL","resolve","$cfb429fbc55473d3$exports","$3703ed3a3a9f8e92$var$listProduct","document","querySelector","$3703ed3a3a9f8e92$var$listProductBasket","$3703ed3a3a9f8e92$var$totalPrice","$3703ed3a3a9f8e92$var$totalProducts","$3703ed3a3a9f8e92$var$basketBtn","$3703ed3a3a9f8e92$var$basketContainer","$3703ed3a3a9f8e92$var$basketExit","addEventListener","e","$3703ed3a3a9f8e92$var$_handleAddCard","apply","this","id","includes","splices","split","product","$3703ed3a3a9f8e92$var$productItem","find","param","Number","number","nodeName","removeItem","localStorage","setItem","stringify","$3703ed3a3a9f8e92$var$renderProductsBaket","$3703ed3a3a9f8e92$var$totalPriceProducts","$3703ed3a3a9f8e92$var$totalProductsNumber","$3703ed3a3a9f8e92$var$handelToggleBasket","$3703ed3a3a9f8e92$var$localProducts","getItem","$parcel$interopDefault","$2TvXO","mark","_callee","res","findProduct","newProduct","$XhTkP","products","$5TAx9","limit","page","_ctx","sent","alert","push","total","reduce","cal","item","variants","price","innerHTML","insertAdjacentHTML","toLocaleString","Array","isArray","map","console","log","productItemBasket","title","images","compare_at_price","deleteIconHtml","src","join","classList","toggle"],"version":3,"file":"index.5207dc3f.js.map"}